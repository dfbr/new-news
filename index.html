---
layout: default
title: Home
---

<div class="stories-grid">
  {% assign max_stories = 10 %}
  {% assign two_months_in_seconds = 5184000 %}
  {% assign now_timestamp = 'now' | date: '%s' | plus: 0 %}
  
  {% comment %}Collect one recent story per feed{% endcomment %}
  {% assign seen_feeds = "" %}
  {% assign stories_shown = 0 %}
  
  {% for post in site.posts %}
    {% if stories_shown >= max_stories %}
      {% break %}
    {% endif %}
    
    {% assign post_timestamp = post.date | date: '%s' | plus: 0 %}
    {% assign age_in_seconds = now_timestamp | minus: post_timestamp %}
    {% assign feed_key = post.source_feed | default: 'unknown' %}
    
    {% comment %}Check if post is recent (less than 2 months old){% endcomment %}
    {% if age_in_seconds < two_months_in_seconds %}
      {% comment %}Check if we've already shown a story from this feed{% endcomment %}
      {% unless seen_feeds contains feed_key %}
        {% assign seen_feeds = seen_feeds | append: "|" | append: feed_key | append: "|" %}
        {% assign stories_shown = stories_shown | plus: 1 %}
        
  <article class="story-card">
    {% if post.image %}
    <div class="story-image">
      <a href="{{ post.url | relative_url }}">
        <img src="{{ post.image }}" alt="{{ post.title }}">
      </a>
    </div>
    {% endif %}
    
    <div class="story-content">
      <h2 class="story-title">
        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
      </h2>
      
      <div class="story-meta">
        <time datetime="{{ post.date | date_to_xmlschema }}">
          {{ post.date | date: "%B %d, %Y" }}
        </time>
      </div>
      
      {% if post.summary %}
      <p class="story-summary">{{ post.summary }}</p>
      {% elsif post.excerpt %}
      <p class="story-summary">{{ post.excerpt | strip_html | truncatewords: 50 }}</p>
      {% endif %}
      
      <a href="{{ post.url | relative_url }}" class="read-more">Read more →</a>
    </div>
  </article>
      {% endunless %}
    {% endif %}
  {% endfor %}
</div>

{% if site.posts.size > max_stories %}
<div class="more-stories-link">
  <a href="{{ '/more-stories/' | relative_url }}" class="btn">View More Stories →</a>
</div>
{% endif %}
